1. 为什么各个线程要把统计结果保存在线程私有的local_counts中，而不直接保存在全局的counts中？
如果直接修改counts那么为了防止竞争条件势必需要上锁。而如果在循环当中每次循环都上锁，毫无疑问很费时；如果在循环开始前上锁，循环结束后解锁，那整个循环——也就是真正耗时最长的环节仍然无法多线程并行，所以即使有4个thread也是“伪多线程”，实际用时跟单线程不会有区别。

2. 为什么各个线程将local_counts加到全局的counts中时需要加锁？如果不加锁有可能会出现什么问题？
因为多个线程有可能同时访问修改counts数组，因此会出现竞争条件的情况。这会造成一部分修改不成功，以至于答案错误。因此需要在访问需修改counts的时候提前上锁，结束修改后解锁。